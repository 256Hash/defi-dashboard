<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Dashboard</title>
    <!-- Bootstrap CSS -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.0-beta1/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-0evHe/X+R7YkIZDRvuzKMRqM+OrBnVFBL6DOitfPri4tjfHxaWutUpFmBp4vmVor" crossorigin="anonymous">

    <!-- Chart.js -->
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>


    <!-- Native CSS -->
    <link rel="stylesheet" href="css/dashboard.css">

    <!-- Jumbotron Styles -->
    <style>
        .bd-placeholder-img {
          font-size: 1.125rem;
          text-anchor: middle;
          -webkit-user-select: none;
          -moz-user-select: none;
          user-select: none;
        }
  
        @media (min-width: 768px) {
          .bd-placeholder-img-lg {
            font-size: 3.5rem;
          }
        }
  
        .b-example-divider {
          height: 3rem;
          background-color: rgba(0, 0, 0, .1);
          border: solid rgba(0, 0, 0, .15);
          border-width: 1px 0;
          box-shadow: inset 0 .5em 1.5em rgba(0, 0, 0, .1), inset 0 .125em .5em rgba(0, 0, 0, .15);
        }
  
        .b-example-vr {
          flex-shrink: 0;
          width: 1.5rem;
          height: 100vh;
        }
  
        .bi {
          vertical-align: -.125em;
          fill: currentColor;
        }
  
        .nav-scroller {
          position: relative;
          z-index: 2;
          height: 2.75rem;
          overflow-y: hidden;
        }
  
        .nav-scroller .nav {
          display: flex;
          flex-wrap: nowrap;
          padding-bottom: 1rem;
          margin-top: -1px;
          overflow-x: auto;
          text-align: center;
          white-space: nowrap;
          -webkit-overflow-scrolling: touch;
        }
    </style>


</head>
<body>
    <!-- Navbar -->
    <div>
      
      <button class="btn btn-lg btn-dark disabled">Dexes</button>
  
      <form class="active-btn" action="/" method="post">
        <button class="btn btn-lg btn-outline-dark">Prices</button>
      </form>
  </div>

    <h1 class="title">Defi Dashboard</h1>
      <!-- Chart Test -->

    <!-- Uniswap -->
    <div class="defi-container container py-4">
        <div class="p-5 mb-4 bg-dark text-light rounded-3">

              <h1>
                <svg height="120" width="120" clip-rule="evenodd" fill-rule="evenodd" stroke-linejoin="round" stroke-miterlimit="1.41421" viewBox="0 0 560 400" xmlns="http://www.w3.org/2000/svg"><g fill="#ff007a" transform="matrix(.539784 0 0 .539784 144.995 65)"><g fill-rule="nonzero"><path d="m203.2 113.8c-5.4-.8-5.7-1-3.1-1.3 4.9-.8 16.3.3 24.3 2.1 18.6 4.4 35.3 15.7 53.1 35.6l4.6 5.4 6.7-1c28.6-4.6 58-1 82.6 10.3 6.7 3.1 17.3 9.3 18.6 10.8.5.5 1.3 3.9 1.8 7.2 1.8 12.1 1 21.2-2.8 28.1-2.1 3.9-2.1 4.9-.8 8.3 1 2.6 4.1 4.4 7 4.4 6.2 0 12.6-9.8 15.7-23.5l1.3-5.4 2.3 2.6c13.2 14.7 23.5 35.1 25 49.5l.5 3.9-2.3-3.4c-3.9-5.9-7.5-9.8-12.4-13.2-8.8-5.9-18.1-7.7-42.6-9-22.2-1.3-34.8-3.1-47.2-7.2-21.2-7-32-16-57-49.3-11.1-14.7-18.1-22.7-25-29.4-15.2-14.7-30.5-22.4-50.3-25.5z"/><path d="m395.4 146.5c.5-9.8 1.8-16.3 4.6-22.2 1-2.3 2.1-4.4 2.3-4.4.3 0-.3 1.8-1 3.9-2.1 5.7-2.3 13.7-1 22.7 1.8 11.6 2.6 13.2 15 25.8 5.7 5.9 12.4 13.4 15 16.5l4.4 5.7-4.4-4.1c-5.4-5.2-17.8-15-20.6-16.3-1.8-1-2.1-1-3.4.3-1 1-1.3 2.6-1.3 10.1-.3 11.6-1.8 18.8-5.7 26.3-2.1 3.9-2.3 3.1-.5-1.3 1.3-3.4 1.5-4.9 1.5-16 0-22.4-2.6-27.9-18.3-36.9-3.9-2.3-10.6-5.7-14.4-7.5-4.1-1.8-7.2-3.4-7-3.4.5-.5 15.7 3.9 21.7 6.4 9 3.6 10.6 3.9 11.6 3.6.7-.6 1.2-2.7 1.5-9.2z"/><path d="m213.8 185c-10.8-15-17.8-38.2-16.3-55.5l.5-5.4 2.6.5c4.6.8 12.6 3.9 16.5 6.2 10.3 6.2 15 14.7 19.3 35.9 1.3 6.2 3.1 13.4 3.9 15.7 1.3 3.9 6.2 12.9 10.3 18.6 2.8 4.1 1 6.2-5.4 5.7-9.8-1.1-22.9-10.1-31.4-21.7z"/><path d="m382.2 297.2c-51.1-20.6-69.1-38.4-69.1-68.6 0-4.4.3-8 .3-8 .3 0 2.1 1.5 4.4 3.4 10.3 8.3 21.9 11.9 54.2 16.5 18.8 2.8 29.7 4.9 39.5 8.3 31.2 10.3 50.6 31.5 55.2 60.1 1.3 8.3.5 24-1.5 32.2-1.8 6.4-7 18.3-8.3 18.6-.3 0-.8-1.3-.8-3.4-.5-10.8-5.9-21.2-15-29.2-10.9-9.2-24.8-16.2-58.9-29.9z"/><path d="m346.1 305.7c-.5-3.9-1.8-8.8-2.6-10.8l-1.3-3.9 2.3 2.8c3.4 3.9 5.9 8.5 8.3 15 1.8 4.9 1.8 6.4 1.8 14.4 0 7.7-.3 9.5-1.8 13.9-2.6 7-5.7 11.9-10.8 17.3-9.3 9.5-21.4 14.7-38.7 17-3.1.3-11.9 1-19.6 1.5-19.3 1-32.2 3.1-43.9 7.2-1.5.5-3.1 1-3.4.8-.5-.5 7.5-5.2 13.9-8.3 9-4.4 18.3-6.7 38.7-10.3 10.1-1.5 20.4-3.6 23-4.6 25.6-7.9 38.2-27.7 34.1-52z"/><path d="m369.6 347.3c-6.7-14.7-8.3-28.6-4.6-41.8.5-1.3 1-2.6 1.5-2.6s2.1.8 3.6 1.8c3.1 2.1 9.5 5.7 26.1 14.7 20.9 11.4 32.8 20.1 41 30.2 7.2 8.8 11.6 18.8 13.7 31.2 1.3 7 .5 23.7-1.3 30.7-5.7 21.9-18.6 39.5-37.4 49.5-2.8 1.5-5.2 2.6-5.4 2.6s.8-2.6 2.3-5.7c6.2-13.2 7-25.8 2.3-40-2.8-8.8-8.8-19.3-20.6-37.2-14.3-20.5-17.6-26-21.2-33.4z"/><path d="m177.4 426.2c19.1-16 42.6-27.3 64.2-31 9.3-1.5 24.8-1 33.3 1.3 13.7 3.6 26.1 11.4 32.5 20.9 6.2 9.3 9 17.3 11.9 35.1 1 7 2.3 14.2 2.6 15.7 2.1 9.3 6.2 16.5 11.4 20.4 8 5.9 21.9 6.2 35.6 1 2.3-.8 4.4-1.5 4.4-1.3.5.5-6.4 5.2-11.1 7.5-6.4 3.4-11.6 4.4-18.6 4.4-12.4 0-23-6.4-31.5-19.3-1.8-2.6-5.4-10.1-8.5-17-9-20.9-13.7-27.1-24.3-34.1-9.3-5.9-21.2-7.2-30.2-2.8-11.9 5.7-15 20.9-6.7 30.2 3.4 3.9 9.5 7 14.7 7.7 9.5 1.3 17.8-6.2 17.8-15.7 0-6.2-2.3-9.8-8.5-12.6-8.3-3.6-17.3.5-17 8.5 0 3.4 1.5 5.4 4.9 7 2.1 1 2.1 1 .5.8-7.5-1.5-9.3-10.8-3.4-16.8 7.2-7.2 22.4-4.1 27.6 5.9 2.1 4.1 2.3 12.4.5 17.5-4.4 11.4-16.8 17.3-29.4 13.9-8.5-2.3-12.1-4.6-22.4-15.2-18.1-18.6-25-22.2-50.8-26.1l-4.9-.8z"/></g><path d="m41.7 11.1c60.1 73 152.7 186.5 157.4 192.7 3.9 5.2 2.3 10.1-4.1 13.7-3.6 2.1-11.1 4.1-14.7 4.1-4.1 0-9-2.1-12.4-5.4-2.3-2.3-12.4-17-35.1-52.4-17.3-27.1-32-49.5-32.2-49.8-1-.5-1-.5 30.4 55.7 19.9 35.3 26.3 48 26.3 49.5 0 3.4-1 5.2-5.2 9.8-7 7.7-10.1 16.5-12.4 34.8-2.6 20.4-9.5 34.8-29.4 59.3-11.6 14.4-13.4 17-16.3 23-3.6 7.2-4.6 11.4-5.2 20.6-.5 9.8.5 16 3.4 25.3 2.6 8.3 5.4 13.7 12.4 24.3 5.9 9.3 9.5 16.3 9.5 18.8 0 2.1.5 2.1 9.8 0 22.2-5.2 40.5-13.9 50.6-24.8 6.2-6.7 7.7-10.3 7.7-19.6 0-5.9-.3-7.2-1.8-10.8-2.6-5.7-7.5-10.3-18.1-17.5-13.9-9.5-19.9-17.3-21.4-27.6-1.3-8.8.3-14.7 8-31 8-16.8 10.1-23.7 11.4-40.8.8-10.8 2.1-15.2 5.2-18.6 3.4-3.6 6.2-4.9 14.2-5.9 13.2-1.8 21.7-5.2 28.4-11.6 5.9-5.4 8.5-10.8 8.8-18.8l.3-5.9-3.4-3.6c-12.2-13.9-180.1-198.6-180.9-198.6-.3 0 3.9 4.9 8.8 11.1zm79.2 366.9c2.8-4.9 1.3-11.1-3.4-14.2-4.4-2.8-11.1-1.5-11.1 2.3 0 1 .5 2.1 2.1 2.6 2.3 1.3 2.6 2.6.8 5.4s-1.8 5.4.5 7.2c3.6 2.9 8.5 1.3 11.1-3.3z"/><path d="m225.4 242.3c-6.2 1.8-12.1 8.5-13.9 15.2-1 4.1-.5 11.6 1.3 13.9 2.8 3.6 5.4 4.6 12.6 4.6 14.2 0 26.3-6.2 27.6-13.7 1.3-6.2-4.1-14.7-11.6-18.6-3.9-2-11.9-2.7-16-1.4zm16.5 12.9c2.1-3.1 1.3-6.4-2.6-8.8-7-4.4-17.5-.8-17.5 5.9 0 3.4 5.4 7 10.6 7 3.3 0 7.9-2.1 9.5-4.1z"/></g></svg>                  
                Uniswap
              </h1>
              <div class="volumeUSD-container">
                  <div class="uniswapChart-container">
                    <canvas id="uniswapChart"></canvas>
                    <h3 class="volumeUSD-desc">Daily Volume (Last 30 Days)</h3>


                  </div>

              </div>
          </div>
    </div>

    <!-- Aave
    <div class="defi-container container py-4">
        <div class="p-5 mb-4 bg-dark text-light rounded-3">
            <div class="container-fluid py-5">
              <h1 class="display-6 fw-bold">
                <svg height="170" width="170" clip-rule="evenodd" fill-rule="evenodd" stroke-linejoin="round" stroke-miterlimit="1.41421" viewBox="0 0 560 400" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"><linearGradient id="a" gradientTransform="matrix(-369.036 310.497 -310.497 -369.036 434.927 94.423)" gradientUnits="userSpaceOnUse" x1="0" x2="1" y1="0" y2="0"><stop offset="0" stop-color="#b6509e"/><stop offset="1" stop-color="#2ebac6"/></linearGradient><g transform="matrix(.604839 0 0 .604839 128.79 48.7903)"><circle cx="250" cy="250" fill="url(#a)" r="248"/><path d="m358.5 348.8-83.9-202.7c-4.7-10.5-11.8-15.6-21-15.6h-7.4c-9.3 0-16.3 5.1-21 15.6l-36.5 88.3h-27.6c-8.2.1-15 6.7-15 15v.2c.1 8.2 6.8 15 15 15h14.8l-34.8 84.2c-.6 1.9-1 3.8-1 5.8 0 4.7 1.5 8.4 4.1 11.3s6.4 4.3 11.1 4.3c3.1-.1 6.1-1 8.6-2.9 2.7-1.9 4.5-4.5 6-7.6l38.4-95.1h26.6c8.2-.1 15-6.7 15-15v-.4c-.1-8.2-6.8-15-15-15h-14.2l29.3-72.9 79.8 198.4c1.5 3.1 3.3 5.8 6 7.6 2.5 1.9 5.6 2.8 8.6 2.9 4.7 0 8.4-1.4 11.1-4.3s4.1-6.6 4.1-11.3c0-2-.3-4-1.1-5.8z" fill="#fff" fill-rule="nonzero"/></g></svg>
                  Aave
                </h1>
              <div class="volumeUSD-container">
                <h2 class="volumeUSD-data fs-1"> $<%=uniswapData%></h2>
                <h3 class="volumeUSD-desc fs-5">Total Volume (USD)</h2>
              </div>
            </div>
          </div>
    </div> -->
    
    <!-- Compound -->
    <!-- <div class="defi-container container py-4">
        <div class="p-5 mb-4 bg-dark text-light rounded-3">
            <div class="container-fluid py-5">
              <h1 class="display-6 fw-bold">
                <svg width="170" height="170" clip-rule="evenodd" fill-rule="evenodd" stroke-linejoin="round" stroke-miterlimit="1.41421" viewBox="0 0 560 400" xmlns="http://www.w3.org/2000/svg"><g transform="matrix(.59976 0 0 .59976 130.12 49.97)"><path d="m249.9 500.2c138.1 0 250.1-112 250.1-250.1s-112-250-250.1-250-250.1 111.9-250.1 250.1c0 138.1 112 250 250.1 250z" fill="#070a0e" fill-rule="nonzero"/><path d="m144.3 334c-7.5-4.6-12.1-12.7-12.1-21.5v-48.9c0-1.9.5-3.7 1.4-5.3 2.9-5 9.4-6.7 14.4-3.8l110.3 64.3c6.4 3.8 10.4 10.7 10.4 18.1v50.6c0 2.3-.6 4.6-1.8 6.6-3.6 5.9-11.4 7.8-17.3 4.2zm164.4-92.8c6.4 3.8 10.4 10.7 10.4 18.1v102.7c0 3-1.6 5.8-4.3 7.3l-24.1 13.7c-.3.2-.6.3-1 .4v-57c0-7.4-3.9-14.2-10.2-18l-96.8-57.9v-64.5c0-1.9.5-3.7 1.4-5.3 2.9-5 9.4-6.7 14.4-3.8zm48.2-75.8c6.5 3.7 10.5 10.7 10.5 18.2v150c0 3.1-1.7 5.9-4.4 7.4l-22.9 12.4v-104.5c0-7.4-3.9-14.2-10.2-18l-99-59.4v-61.1c0-1.9.5-3.7 1.4-5.3 2.9-5 9.4-6.7 14.4-3.8z" fill="#00d395"/></g></svg>
                  Compound
                </h1>
              <div class="volumeUSD-container">
                <h2 class="volumeUSD-data fs-1"> $<%=uniswapData%></h2>
                <h3 class="volumeUSD-desc fs-5">Total Volume (USD)</h2>
              </div>
            </div>
          </div>
    </div> -->

    <!-- Javascript -->
    <script>
      let delayed
    
      const uniswapDataLabels = <%-JSON.stringify(uniswapDataLabels)%>
      const uniswapDataData = <%-JSON.stringify(uniswapDataData)%>
      console.log(uniswapDataLabels);
      console.log(uniswapDataData)

      const data = {
        labels: uniswapDataLabels,
        datasets: [{
          label: 'Uniswap Daily Volume (Millions)',
          data:  uniswapDataData,
          fill: true,
          backgroundColor: '#eb367abf',
          borderColor: '#EB367A',
          tension: 0.35
      }]
    };

    const config ={
        type: "line",
        data: data,
        options:{
          plugins:{
            legend:{
              display:false
            }
          },
          radius: 3,
          hitRadius: 30,
          hoverRadius: 5,
          responsive: true,
          animation:{
            onComplete:() =>{
              delayed=true;
            },
            delay: (context) =>{
              let delay = 0;
              if (context.type==="data" && context.mode==="default" && !delayed){
                delay = context.dataIndex * 35 + context.datasetIndex*100;
              }
              return delay;
            },
          },
          scales: {
            x:{
              gridLines:{
                display: false
              },
              ticks:{
                callback: function(item, index){
                  if (!(index%5)) return item;
                },
                autoSkip:false
              }
            },
            y:{
              
              ticks:{
                callback: function(item, index){
                  if(!(index%2)){
                    return "$" + item + "M";
                  }
                },
                autoSkip: false
                
              }
            },

          
            
          }
        }
        
        
      }
      var lineChart = new Chart("uniswapChart", config)
      </script>
</body>
</html>